# 制約外判断


**制約外判断** (violating judgement / V 型判断)
は、データ整合性制約をみたさない判断です。つぎの計算式

    |=V P : E

の結果が空関係ではないとき、
その関係に所属する組が、制約外判断の集合

    |-V P ...
    |-V P ...
    |-V P ...

として出力されます。このような制約外判断がみつかると、
甲州計算機は、終了ステータス 1 で即座に終了します。
甲州計算機に制約外判断が入力されたとき、
計算を実行せずに、入力をそのまま出力することで、
パイプラインの後続処理へと伝播します。


キーの重複
------------------------------------------------------------------

キーの重複を検査するには、重複する組のみ通過させる演算子 `duplicate` を使います。
関係写像 `p` の出力が項目 `/x` `/y` `/z` をもっており、
そのうち `/x` `/y` がキーであるとすると、重複があるときに、
制約外判断が出力されます。

    |=V P-DUP : p | duplicate /x /y


未知の内容
------------------------------------------------------------------

ある関係 `q` が `/x` のすべての内容をもっており、
関係 `p` の `/x` がこの部分集合になっているかどうかを確認するには、
部分集合になっていない組のみ通過させる演算子 `exclude` を使います。

    |=V P-EXC-X : p | exclude /x -from q
    |=V P-EXC-Y : p | exclude /y -from r
    

甲州計算機のバージョン 0.63 には、制約外判断は実装されていません。

