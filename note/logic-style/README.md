# 関係モデルと実体関連モデルの論理様式

[関係モデル] と [実体関連モデル] は多くのソストウェアの
データベース設計でよく使われる方法を提供します。
関係モデルは 1969 年から 70 年に [コッドによって考案] され、
実体関連モデルは 1974 年から 75 年に [チェンによって考案] されました。
実体関連モデル (entity-relationship model) は、
英語の頭文字をとって E/R モデルとも呼ばれます。

関係モデルは、項目間の関係に着目してデータを組織化するのに対して、
実体関連モデルは、実体がどのような属性によって特徴づけられ、
実体間がどのように関連しているかによってデータを組織化します。
チェンの論文の後半で示されているように、
実体関連モデルを関係モデルに変換するとき、
実体を関係へマッピングし、属性を項目へマッピングします。

このマッピングにはいくらか問題があり、それは、
関係モデルと実体関連モデルの双方の利点を十分に生かせないということです。
実体関連モデルの基本要素である実体は、
世界を分類するときの基本単位になります。
その基本単位を属性で特徴づけることで、
直観的に理解しやすい世界像を提供しますが、
基本単位を異なる視点でとらえたい場合には、
実体境界によって拘束されて、うまく行かないことがあります。
もともと、関係モデルは、[IMS] のようなデータ管理システムで採用されている
[階層型データ] がもっていたデータ構造依存性を緩和することを
目的のひとつとして考案されましたが、実体関連モデルは、
実体境界に由来するデータ構造依存性を再導入してしまいます。

これに対して、関係モデルでは、項目間にどのような関係が成り立つかに着目します。
項目群が、いわば、自ら意味境界を作り出すため、
属性の所属先となる実体のような核をもたないデータが形づくられます。
データの核がないため、一部の項目のみを取り出した部分関係に再編したり、
あるいは、ふたつの関係を組み合わせた合成関係に再編することなどが、
何の制約もなく自由にできるようになります。
これは、ちょうど、幾何と代数の関係として、
幾何学的対象に代数的表現を与えることで、
幾何の直観的イメージから解放されて、変数間の関係上で、射影を計算したり、
連立条件によって合成された幾何学的対象を計算する能力が
得られることに似ています。

幾何と代数を組み合わせることで、古代ギリシアの幾何にはなかった
発展の原動力が得られるようになりましたが、
実体関連モデルも古代ギリシアとのつながりがあります。
というのは、[実体] を基本単位とした世界像は、
古代ギリシアの哲学者アリストテレスに深く関連しているからです。
実体と属性は、論理学分野では、主語と述語へマッピングされ、
これは、アリストテレス論理学の中心的な形態を提供します。
この主語・述語方式がもつ限界を突破するために、
19 世紀の論理学者フレーゲは [『概念記法』] のなかで、
主語という核をもたない表現方法である項・関数方式を提案します。
『概念記法』という書名は、「判断を材料にして概念を記述する方法」を意味しており、
フレーゲは、概念を中心にしたアリストテレス型の論理様式から、
判断を中心にした分析的な論理様式へ移行することで、
論理の記述能力を飛躍的に向上させました。
この判断中心説を論理学へ応用したものが述語論理であり、
哲学へ応用したものが分析哲学であり、
データの計算体系へ応用したもののひとつが関係モデルとみなせます。

| | | |
|----------|------------|----------------|
| **理論** | 関係モデル | 実体関連モデル |
| **設計図書** | データ解釈集 | E/R 図 |
| **DBMS** | RDBMS | ERDBMS |
| **製品** | MySQL、Oracle など | — |
| **論理様式** | フレーゲ型 | アリストテレス型 |
| **世界像** | 判断中心説 | 概念中心説 |
| **基本要素** | 判断、または、関係/項目 | 概念、または、実体/属性 |

実体関連モデルでの設計結果である E/R 図の実装先として、
もっとも適しているのは、本来は、実体関連型 DBMS (ERDBMS) であると考えれます。
21 世紀初頭においてもよく使われる、E/R 図を関係型 DBMS (RDBMS)
へ実装するという設計手法は、その論理様式の違いを考慮すると、
合理的な根拠が弱く、データベース技術者の間に広まった俗信の一種であるといえます。

関係モデルは、コッドによる考案から 35 年後の 2005 年に、
トロパシコによって、より厳密に数学的に基礎づけられました。
この数学的理論は [関係束] として知られており、
[束] と呼ばれる代数系の公理をみたします。
束は、論理の代数的定式化手法として使われ、
[ジョージ・ブールの先駆的な業績] を数学的に抽象化した形をもっています。
2020 年ころまで、この関係束と判断中心説を踏まえた形で、関係モデルの利用方法や、
データベース設計への応用方法を、再定義してもよい時期であると考えられます。
その際、関係モデルが、ブールとフレーゲという
19 世紀のふたりの論理学者の業績である論理代数と判断中心説を、
深い水準で利用していることに、十分な注意を払う必要があります。

[関係モデル]: https://ja.wikipedia.org/wiki/関係モデル
[実体関連モデル]: https://ja.wikipedia.org/wiki/実体関連モデル
[コッドによって考案]: http://dl.acm.org/citation.cfm?id=362685
[チェンによって考案]: http://dl.acm.org/citation.cfm?id=320440
[IMS]: https://ja.wikipedia.org/wiki/IMS
[階層型データ]: https://ja.wikipedia.org/wiki/階層型データモデル
[実体]: https://ja.wikipedia.org/wiki/実体
[『概念記法』]: https://ja.wikipedia.org/wiki/概念記法
[束]: https://ja.wikipedia.org/wiki/束_(束論)
[関係束]: https://arxiv.org/abs/cs/0501053
[ジョージ・ブールの先駆的な業績]: http://georgeboole.com/boole/legacy/mathematics/

