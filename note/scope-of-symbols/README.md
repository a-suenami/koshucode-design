# 名前の有効範囲


複数の資源からひとつのプログラムを組み立てるとき、
ある資源で定義された名前の一部だけを公開し、
不要な名前を非公開にできます。
甲州記法には、(1) 公開、(2) 共有、(3) 非共有の
3 つの有効範囲があります。

```
+ foo  = body of foo      (1) 公開
bar    = body of bar      (2) 共有
- baz  = body of baz      (3) 非共有
```

**公開** は、ある資源で定義された名前が、
ほかの資源からもみえる状態です。
定義の行頭に `+` をおくと公開された名前になります。

**共有** は、外部の資源からはみえない非公開の状態ですが、
資源内では共有できます。甲州記法の資源は `===`
で区切られた区の集合体として組織化されており、
共有された名前は自区の外からもみえます。
定義の行頭に `+` も `-` もおかないと共有の名前になります。

**非共有** は、自区のなかからしかみえない状態です。
定義の行頭に `-` をおくと非共有の名前になります。
通常は、複数の区で同じ名前を使いたいときに、非共有にします。

共有と非共有を合わせて、**非公開** とよぶことがあります。
有効範囲をより分かりやすくするため、
「公開」を **外部公開**、「共有」を **内部共有** とよぶことがあります。

例として、ふたつの区からなる資源を考えてみます。
この資源全体として公開された名前は `a` のみで、
`b` `c` `x` `y` は非公開です。
`b` と `c` は共有名のため、どちらの区からでもみえます。
はじめの区の `x` `y` とつぎの区の `x` は名前が重複していますが、
非共有のため衝突することはありません。

```
=== rel
+ a  = ...
b    = ...
- x  = ...
- y  = ...

=== rel
c    = ...
- x  = ...
```

