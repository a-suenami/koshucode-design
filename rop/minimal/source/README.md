# source

## 概要

`source P /N ...` — 関係の読み出し



## 説明

`source P /N ...` は判断集合を関係として読み出します。
判断集合全体から、判断種 `P` をもつ肯定判断を選び出し、
それらの判断から項目 `/N ...` を抜き出した結果を、
関係として出力します。

判断が指定された項目をもたないときは、
ニル `()` を内容とする項目になります。

入力側の関係は無視されます。
つまり、`... | source ...` のような式は、
`source ...` と同じ意味になります。



## 引数分類

`source P /N ...` は、引数分類を指定して、
`source -pattern P -term /N ...` とも書けます。

| 分類     | 説明 |
|----------|------|
| -pattern | 1 番目の引数は判断種に分類されます。 |
| -term    | 2 番目以降の引数の並びは項目名に分類されます。 |



## エラー

つぎの内容にあてはまるときに、エラーが報告されます。

- 引数分類 `-pattern` の内容が 0 個、または、2 個以上ある。

- 引数分類 `-pattern` の内容が判断種ではない。

- 引数分類 `-term` のなかに、項目名ではない引数がある。

- 引数分類 `-term` のなかに、階層的な項目名がある。



## 使用例

判断種 `A` の判断集合を、項目 `/x` `/y`
をもつ関係として読み出します。

``` text
|== B : source A /x /y

|-- A  /x 'X1  /y 'Y1
|-- A  /x 'X1  /y 'Y2  /z 'Z3
|-- A  /x 'X2
```

つぎのような出力が得られます。

``` text
|-- B  /x 'X1  /y 'Y1
|-- B  /x 'X1  /y 'Y2
|-- B  /x 'X2  /y ()
```



## バグ

否定判断を読み出す機能は実装されていませんが、
`-denied` オプションとして実装する予定があります。

